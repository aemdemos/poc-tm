<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<script src="/scripts/aem.js" type="module"></script>
<script src="/scripts/scripts.js" type="module"></script>
<link rel="stylesheet" href="/styles/styles.css"/>
<link rel="preload" as="font" type="font/woff2" href="/fonts/avenir/avenir_next_lt_pro_regular.woff2" crossorigin>
<link rel="preload" as="font" type="font/woff2" href="/fonts/avenir/avenir_next_lt_pro_medium.woff2" crossorigin>
</head>
<body>
<header></header>
<main>
<div><h1 id="problems-reference--zelis-eds-migration">Problems Reference — Zelis EDS Migration</h1><blockquote>
<p>Referential index of problems encountered (from the project journal), their
resolutions, and how to avoid them. Updated by the problem tracker skill.</p>
</blockquote><p><strong>Source:</strong> <code>journal/journal.md</code>
<strong>Last review:</strong> 2026-02-26 (after Session 009)</p></div>
<div><h2 id="quick-reference--prevention-checklists">Quick Reference — Prevention Checklists</h2><h3 id="da--url-and-path-mangling">DA / URL and Path Mangling</h3><ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" disabled> Match DA links by <code>a.textContent</code>, never by <code>a.href</code> — DA mangles dots to hyphens in href attributes (DA-001)</li>
<li class="task-list-item"><input type="checkbox" disabled> After renaming files, grep for all references to the old name across the project (DA-002)</li>
</ul><h3 id="git--environment">Git / Environment</h3><ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" disabled> Set <code>HOME=/home/node</code> before first git command in container environments (GIT-001)</li>
<li class="task-list-item"><input type="checkbox" disabled> Commit and push files immediately when the user needs to review them — don't assume workspace filesystem access (GIT-002)</li>
</ul><h3 id="performance--loading">Performance / Loading</h3><ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" disabled> Set <code>delayed.js</code> timeout to 1.5s — the 3s default is too slow for perceived animation load (PERF-001)</li>
</ul><h3 id="file-sync--auto-generation">File Sync / Auto-Generation</h3><ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" disabled> Never manually write <code>.html</code> or <code>.plain.html</code> files that have a <code>.md</code> source — let the file watcher own them (SYNC-001)</li>
</ul><h3 id="test-harness--verification">Test Harness / Verification</h3><ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" disabled> Use async scroll with pauses (200-400ms per step) when testing IO-dependent animations — sync loops don't trigger observers (TEST-001)</li>
<li class="task-list-item"><input type="checkbox" disabled> Verify script load phase by timing or source attribution, not by DOM parent element (TEST-002)</li>
</ul></div>
<div><h2 id="da--url-and-path-mangling-1">DA / URL and Path Mangling</h2>


































<div class="problem"><div><div>DA converts dots to hyphens in hrefs (<code>.json</code> → <code>-json</code>)</div><div>DA-001</div><div>DA rewrites URLs; dots in hrefs normalized to hyphens</div><div>Match links by <code>a.textContent.trim().endsWith('.json')</code>, never by <code>a.href</code></div><div>For any link whose display text is a file path: always use <code>a.textContent.trim()</code> to detect file type. Never use <code>a.getAttribute('href')</code> for paths in DA-authored content.</div><div>001</div><div>blocker</div><div>yes</div></div><div><div>SKILL.md referenced non-existent file (<code>animation-verification-criteria.md</code>)</div><div>DA-002</div><div>File renamed during development (<code>animation-verification.md</code>); reference in SKILL.md not updated</div><div>Updated reference to point to actual filename <code>animation-verification.md</code></div><div>After creating or renaming files, grep for all references to the old name across the project. Verify cross-references in skill files point to actual filenames on disk.</div><div>003</div><div>major</div><div>yes</div></div></div><p><strong>Recurring:</strong> No (so far — but both involve file reference mismatches from platform transformations)
<strong>Notes:</strong> DA-001 documented in <code>skills/excat-animate-migration/SKILL.md</code> (DA mangles animation file paths). Both problems stem from content platforms transforming file paths/references in unexpected ways.</p></div>
<div><h2 id="git--environment-1">Git / Environment</h2>


































<div class="problem"><div><div>Git <code>safe.directory</code> error on first git operation</div><div>GIT-001</div><div>Git ownership check fails in container environments where workspace is owned by a different user</div><div>Set <code>HOME=/home/node</code> env prefix for git commands; added safe.directory config</div><div>Always set <code>HOME=/home/node</code> before git commands in container environments. Add this to project Git Notes in <code>project-context.md</code>.</div><div>002</div><div>minor</div><div>yes</div></div><div><div>User couldn't access workspace filesystem to view skill files</div><div>GIT-002</div><div>Workspace filesystem only accessible to agent within container; user cannot browse it directly</div><div>Committed and pushed files to git so user could view via GitHub</div><div>When creating files the user needs to review, commit and push immediately rather than assuming workspace access.</div><div>002</div><div>minor</div><div>yes</div></div></div><p><strong>Recurring:</strong> No
<strong>Notes:</strong> Both relate to the container environment's access constraints. GIT-001 fix is documented in <code>project-context.md</code> Git Notes.</p></div>
<div><h2 id="performance--loading-1">Performance / Loading</h2>
























<div class="problem"><div><div>Lottie animation loading too slowly (3s delay)</div><div>PERF-001</div><div><code>delayed.js</code> timeout set to 3000ms — perceptibly sluggish even though delay was intentional for LCP protection</div><div>Reduced <code>delayed.js</code> timeout from 3000ms to 1500ms</div><div>When configuring animation load delays, use 1.5s as baseline — long enough to protect LCP but short enough to feel responsive. Ensure container has dimensions so layout doesn't shift when SVG injects.</div><div>001</div><div>minor</div><div>yes</div></div></div><p><strong>Recurring:</strong> No
<strong>Notes:</strong> Fix applied in <code>scripts/delayed.js</code>.</p></div>
<div><h2 id="file-sync--auto-generation-1">File Sync / Auto-Generation</h2>
























<div class="problem"><div><div>SKILL.html write failed — file modified by linter since last read</div><div>SYNC-001</div><div>Project file watcher auto-regenerates <code>.html</code> and <code>.plain.html</code> when <code>.md</code> is edited; manual write conflicted with watcher</div><div>Stopped manually writing HTML variants; let file watcher handle auto-regeneration</div><div>Never manually write <code>.html</code> or <code>.plain.html</code> files that have a <code>.md</code> source. The file watcher owns these outputs. After editing markdown, verify HTML was auto-regenerated by checking timestamps.</div><div>003</div><div>minor</div><div>yes</div></div></div><p><strong>Recurring:</strong> No
<strong>Notes:</strong> File watcher behavior documented in Session 003, Key Decisions.</p></div>
<div><h2 id="test-harness--verification-1">Test Harness / Verification</h2>


































<div class="problem"><div><div>Verification sync scroll doesn't trigger IntersectionObservers</div><div>TEST-001</div><div>Synchronous <code>for</code> loop scroll doesn't give IO callbacks time to fire; elements never receive <code>.is-visible</code></div><div>(unresolved) — needs async scrolling with <code>await page.waitForTimeout()</code> between steps</div><div>Use async scroll with pauses (200-400ms per step) when testing IO-dependent animations. Never use synchronous scroll loops for verification.</div><div>009</div><div>minor</div><div>no</div></div><div><div>F-DELAYED check false positive — dynamic scripts placed in <code>&#x3C;head></code></div><div>TEST-002</div><div>Check uses <code>lottieScript.closest('head')</code> but browsers may place dynamically injected <code>&#x3C;script></code> tags in <code>&#x3C;head></code> regardless of injection method</div><div>(unresolved) — should verify load timing or check <code>delayed.js</code> source, not DOM placement</div><div>When checking script load phase, verify by load timing or source attribution, not by DOM parent element.</div><div>009</div><div>minor</div><div>no</div></div></div><p><strong>Recurring:</strong> No
<strong>Notes:</strong> Both relate to the animation verification test harness (verify-animations.js). The underlying animations work correctly — these are false positives in the detection logic.</p></div>
</main>
<footer></footer>
</body>
</html>